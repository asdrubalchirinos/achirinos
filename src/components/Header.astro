---
const { lang = "en" } = Astro.props;

const translations = {
  en: {
    home: "Home",
    philosophy: "Philosophy",
    resume: "Resume",
    projects: "Projects",
    blog: "Blog",
  },
  es: {
    home: "Inicio",
    philosophy: "Filosofía",
    resume: "Currículum",
    projects: "Proyectos",
    blog: "Blog",
  },
};

const t = translations[lang];

const links = [
  { href: `/${lang}`, label: t.home },
  { href: `/${lang}/philosophy`, label: t.philosophy },
  { href: `/${lang}/resume`, label: t.resume },
  { href: `/${lang}/projects`, label: t.projects },
  { href: "https://www.codigoergosum.com", label: `${t.blog} ↗` },
];

const otherLang = lang === "en" ? "es" : "en";
const otherLangLabel = lang === "en" ? "ES" : "EN";
const currentPath = Astro.url.pathname;
const otherLangPath = currentPath.replace(`/${lang}`, `/${otherLang}`);
---

<header class="flex justify-between items-center py-4">
  <nav>
    <ul class="flex space-x-4 items-center">
      {
        links.map((link) => (
          <li>
            <a
              href={link.href}
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors"
            >
              {link.label}
            </a>
          </li>
        ))
      }
      <li>
        <a
          href={otherLangPath}
          class="font-bold text-gray-700 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors ml-4 border border-gray-200 dark:border-gray-700 rounded px-2 py-1 text-xs"
        >
          {otherLangLabel}
        </a>
      </li>
    </ul>
  </nav>
</header>
